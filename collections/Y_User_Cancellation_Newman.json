{
  "info": {
    "_postman_id": "75dc8c3b-4cf1-4773-b0b1-24897b4569cb",
    "name": "Y User Cancellation Newman",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "updatedAt": "2024-12-24T07:41:03.000Z",
    "createdAt": "2024-12-24T07:41:02.000Z",
    "lastUpdatedBy": "38579165",
    "uid": "38579165-75dc8c3b-4cf1-4773-b0b1-24897b4569cb"
  },
  "item": [
    {
      "name": "/v2/auth",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "pm.collectionVariables.set(\"driver-number\", \"9642420001\");"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "8df74786-74d5-4ab6-8c94-93daa02ea551"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "pm.collectionVariables.set(\"driver_authId\", jsonData.authId);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "0e72bf33-765c-4e05-91d0-50b6305f51fd"
          }
        }
      ],
      "id": "8694d6c5-b731-4a34-8739-36d5623fe7d7",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"mobileNumber\": \"{{driver-number}}\",\n    \"mobileCountryCode\": \"+91\",\n    \"merchantId\": \"2e8eac28-9854-4f5d-aea6-a2f6502cfe37\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseURL_namma_P}}/auth",
          "host": [
            "{{baseURL_namma_P}}"
          ],
          "path": [
            "auth"
          ]
        }
      },
      "response": [],
      "uid": "38579165-8694d6c5-b731-4a34-8739-36d5623fe7d7"
    },
    {
      "name": "/v2/auth/:authId/verify",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "pm.collectionVariables.set(\"driver_token\", jsonData.token);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "8ccd2229-2037-480d-b780-c8a60457bdc5"
          }
        }
      ],
      "id": "87bfd590-c928-4f9f-b4dd-c0feb58bb0fa",
      "protocolProfileBehavior": {
        "disabledSystemHeaders": {
          "connection": true,
          "accept-encoding": true,
          "accept": true,
          "user-agent": true
        },
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=utf-8",
            "disabled": true
          },
          {
            "key": "Accept",
            "value": "application/json;charset=utf-8",
            "disabled": true
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"otp\": \"7891\",\n    \"deviceToken\": \"8e83b5dc-99a0-4306-b90d-2345f3050972\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseURL_namma_P}}/auth/:authId/verify",
          "host": [
            "{{baseURL_namma_P}}"
          ],
          "path": [
            "auth",
            ":authId",
            "verify"
          ],
          "variable": [
            {
              "id": "d1a67654-f1b0-4288-a23c-d3187fee57ca",
              "key": "authId",
              "value": "{{driver_authId}}",
              "description": "(Requir"
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-87bfd590-c928-4f9f-b4dd-c0feb58bb0fa"
    },
    {
      "name": "/v2/driver/location",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "var moment = require('moment');",
              "pm.globals.set(\"current_time\", moment.utc().format(\"YYYY-MM-DDTHH:mm:ssZ\"));",
              ""
            ],
            "type": "text/javascript",
            "id": "b916a08b-9669-4147-8465-43a262537f20"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "id": "42e74d29-705f-4be7-99c7-3087c8503120"
          }
        }
      ],
      "id": "672fb539-3397-4182-b101-c9d36a87addb",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{driver_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=utf-8"
          },
          {
            "key": "Accept",
            "value": "application/json;charset=utf-8"
          },
          {
            "key": "mId",
            "value": "2e8eac28-9854-4f5d-aea6-a2f6502cfe37",
            "type": "text"
          },
          {
            "key": "vt",
            "value": "SEDAN",
            "type": "text"
          },
          {
            "key": "dm",
            "value": "ONLINE",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "[\n    {\n        \"pt\": {\n           \"lat\": 9.958350407337207, \n            \"lon\": 76.25995992729428 \n        },\n        \"ts\": \"{{current_time}}\"\n    }\n]",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "https://api.sandbox.beckn.juspay.in/dev/dobpp/test/ui/driver/location",
          "protocol": "https",
          "host": [
            "api",
            "sandbox",
            "beckn",
            "juspay",
            "in"
          ],
          "path": [
            "dev",
            "dobpp",
            "test",
            "ui",
            "driver",
            "location"
          ]
        }
      },
      "response": [],
      "uid": "38579165-672fb539-3397-4182-b101-c9d36a87addb"
    },
    {
      "name": "/driver/setActivity",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "id": "6f37f2f7-89b6-4dc5-8f62-4a848e8c760a"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "id": "ffc12148-db1d-45d6-a1d7-2335d7994a02"
          }
        }
      ],
      "id": "49297ebd-2f84-4346-a9f9-af666215108f",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{driver_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json;charset=utf-8"
          }
        ],
        "url": {
          "raw": "{{baseURL_namma_P}}/driver/setActivity?active=true&mode=\"ONLINE\"",
          "host": [
            "{{baseURL_namma_P}}"
          ],
          "path": [
            "driver",
            "setActivity"
          ],
          "query": [
            {
              "key": "active",
              "value": "true",
              "description": "(Required) "
            },
            {
              "key": "mode",
              "value": "\"ONLINE\""
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-49297ebd-2f84-4346-a9f9-af666215108f"
    },
    {
      "name": "/driver/profile",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "id": "bdfb20a2-5c16-40c6-a27d-c3498f5aafc7"
          }
        }
      ],
      "id": "7f40acc4-e3e2-4bce-8abb-e8fca805fb38",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{driver_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseURL_namma_P}}/driver/profile",
          "host": [
            "{{baseURL_namma_P}}"
          ],
          "path": [
            "driver",
            "profile"
          ]
        }
      },
      "response": [],
      "uid": "38579165-7f40acc4-e3e2-4bce-8abb-e8fca805fb38"
    },
    {
      "name": "auth",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "pm.variables.set(\"customer-number\", \"9800000212\");"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "60d55c61-9c39-4508-a415-ebf146751ff1"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "pm.collectionVariables.set(\"customer_authId\", jsonData.authId);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "48df6243-1a08-447f-b8df-008e7d4df28b"
          }
        }
      ],
      "id": "1d8a81ce-e210-4582-a687-52e05da51c93",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=utf-8"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"mobileNumber\": \"{{customer-number}}\",\n    \"mobileCountryCode\": \"+91\",\n    \"merchantId\" : \"YATRI\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl_app}}/auth",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "auth"
          ]
        }
      },
      "response": [],
      "uid": "38579165-1d8a81ce-e210-4582-a687-52e05da51c93"
    },
    {
      "name": "auth/:authId/verify",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "pm.collectionVariables.set(\"customer_token\", jsonData.token);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "4833d6a3-5ac0-41da-bf26-b5cf6971eeba"
          }
        }
      ],
      "id": "8f28aca9-e60e-456b-b9c5-35c532c925b2",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=utf-8"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"otp\": \"7891\",\n    \"deviceToken\": \"5297873d-10ca-42f3-8a32-22de4c916026\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl_app}}/auth/:authId/verify",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "auth",
            ":authId",
            "verify"
          ],
          "variable": [
            {
              "id": "66dceaff-09f1-43cf-8b0c-3d6623a7d889",
              "key": "authId",
              "value": "{{customer_authId}}",
              "description": "(Required) "
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-8f28aca9-e60e-456b-b9c5-35c532c925b2"
    },
    {
      "name": "/v2/rideSearch",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// pm.variables.set(\"customer-origin-lat\", \"12.846907\");",
              "// pm.variables.set(\"customer-origin-lon\", \"77.556936\");",
              "// pm.variables.set(\"customer-destination-lat\", \"12.846907\");",
              "// pm.variables.set(\"customer-destination-lon\", \"77.566936\");"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "27d642ac-c625-4f1d-87c8-e482e6ebae32"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "const body = JSON.parse(responseBody);",
              "pm.collectionVariables.set(\"customer_searchId\", body.searchId);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "14b7ac0a-c277-4bb8-b6aa-263537c0a739"
          }
        }
      ],
      "id": "38ec02fb-fca5-47ca-b992-88048ffb5c27",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{customer_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=utf-8"
          },
          {
            "key": "token",
            "value": "{{app-reg-token}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"fareProductType\": \"ONE_WAY\",\n    \"contents\": {\n        \"origin\": {\n            \"address\": {\n                \"area\": \"8th Block Koramangala\",\n                \"areaCode\": \"560047\",\n                \"building\": \"Juspay Buildings\",\n                \"city\": \"Bangalore\",\n                \"country\": \"India\",\n                \"door\": \"#444\",\n                \"street\": \"18th Main\",\n                \"state\": \"Karnataka\"\n            },\n            \"gps\": {\n                \"lat\": 9.958350407337207, \n            \"lon\": 76.25995992729428 \n            }\n        },\n        \"autoAssignEnabledV2\": true,\n        \"autoAssignEnabled\": true,\n        \"destination\": {\n            \"address\": {\n                \"area\": \"6th Block Koramangala\",\n                \"areaCode\": \"560047\",\n                \"building\": \"Juspay Apartments\",\n                \"city\": \"Bangalore\",\n                \"country\": \"India\",\n                \"door\": \"#444\",\n                \"street\": \"18th Main\",\n                \"state\": \"Karnataka\"\n            },\n            \"gps\": {\n                \"lat\": 9.961250575375647,\n                \"lon\": 76.25963460996354\n            }\n        }\n    }\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl_app}}/rideSearch",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "rideSearch"
          ]
        }
      },
      "response": [],
      "uid": "38579165-38ec02fb-fca5-47ca-b992-88048ffb5c27"
    },
    {
      "name": "/v2/rideSearch/:searchId/results",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "var incomingEstimates = jsonData.estimates;",
              "var maxRetries = 3; // Maximum number of retries",
              "",
              "var retryCount = pm.collectionVariables.get(\"retryCount\") || 0;",
              "",
              "if(incomingEstimates && incomingEstimates.length > 0){",
              "    var estimatesLen = incomingEstimates.length;",
              "    for(var i=0 ; i<estimatesLen;i++){",
              "        if (incomingEstimates[i].agencyName === \"NAMMA_YATRI\" && incomingEstimates[i].serviceTierName === \"Auto\") {",
              "            pm.collectionVariables.set(\"EstiAuto\", incomingEstimates[i].id);",
              "            console.log(incomingEstimates[i].id + \" AutoEstimateId\");",
              "            break; ",
              "        }",
              "    }",
              "    pm.collectionVariables.set(\"retryCount\", 0);",
              "}",
              "else{",
              "    retryCount++;",
              "    pm.collectionVariables.set(\"retryCount\", retryCount);",
              "",
              "    if (retryCount < maxRetries) {",
              "        console.log(`Retrying request (${retryCount}/${maxRetries})...`);",
              "        postman.setNextRequest(pm.info.requestName); // Re-run the same request",
              "    } else {",
              "        console.log(`Max retries reached (${maxRetries}).`);",
              "        pm.collectionVariables.set(\"retryCount\", 0); // Reset retry count after max retries",
              "    }",
              "}",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "55b8f130-c2e6-482c-9f5e-6c4735e86455"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 2000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "c8ec1427-d7a1-487c-b586-b2100cc397e0"
          }
        }
      ],
      "id": "86608023-a4c4-4744-b968-d0d2fea9575c",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{customer_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [
          {
            "key": "token",
            "value": "{{app-reg-token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{baseUrl_app}}/rideSearch/:searchId/results",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "rideSearch",
            ":searchId",
            "results"
          ],
          "variable": [
            {
              "id": "ae2b916f-8e0c-4b7e-bca3-6db610a7274d",
              "key": "searchId",
              "value": "{{customer_searchId}}"
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-86608023-a4c4-4744-b968-d0d2fea9575c"
    },
    {
      "name": "/estimate/:estimateId/select2",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 1000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "fde47e99-b434-4df1-8c34-5186dba19500"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "e0bd9ab7-1465-45b7-8699-1a7c5a0e2163"
          }
        }
      ],
      "id": "ac5d1958-a49f-4349-b18b-a8aabd8b851b",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{customer_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"customerExtraFee\": null,\n  \"autoAssignEnabledV2\": true,\n  \"autoAssignEnabled\": true\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl_app}}/estimate/:estimateId/select2",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "estimate",
            ":estimateId",
            "select2"
          ],
          "variable": [
            {
              "id": "31ab49e5-9968-4d2d-8d6d-567dd7967852",
              "key": "estimateId",
              "value": "{{EstiAuto}}"
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-ac5d1958-a49f-4349-b18b-a8aabd8b851b"
    },
    {
      "name": "/v2/driver/nearbyRideRequest",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "var responseBody = pm.response.json();",
              "var nearbyRequest = responseBody.searchRequestsForDriver;",
              "var maxRetries = 4; // Maximum number of retries",
              "",
              "// Initialize or increment the retry count",
              "var retryCount = pm.collectionVariables.get(\"retryCount\") || 0;",
              "",
              "if (nearbyRequest && nearbyRequest.length > 0) {",
              "    // Set the searchReq_Id collection variable",
              "    pm.collectionVariables.set(\"searchReq_Id\", nearbyRequest[0].searchRequestId);",
              "    console.log(nearbyRequest[0].searchRequestId + \" searchRequestId\");",
              "",
              "    // Reset the retry count as the request was successful",
              "    pm.collectionVariables.set(\"retryCount\", 0);",
              "} else {",
              "    // Increment the retry count",
              "    retryCount++;",
              "    pm.collectionVariables.set(\"retryCount\", retryCount);",
              "",
              "    if (retryCount < maxRetries) {",
              "        console.log(`Retrying request (${retryCount}/${maxRetries})...`);",
              "        pm.execution.setNextRequest(pm.info.requestName); // Re-run the same request",
              "    } else {",
              "        console.log(`Max retries reached (${maxRetries}).`);",
              "        pm.collectionVariables.set(\"retryCount\", 0); // Reset retry count after max retries",
              "    }",
              "}",
              "",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    console.log('req', pm.info.requestName);",
              "    console.log('res', responseBody);",
              "    pm.response.to.have.status(200);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "882b52e2-35c8-44e6-abd8-9854ee4a444e"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 5000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "fa1e9077-9e63-476b-b261-dbd418c1b492"
          }
        }
      ],
      "id": "d2bd8885-3da3-41ae-8a28-6f87e79deecc",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{driver_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json;charset=utf-8"
          }
        ],
        "url": {
          "raw": "{{baseURL_namma_P}}/driver/nearbyRideRequest",
          "host": [
            "{{baseURL_namma_P}}"
          ],
          "path": [
            "driver",
            "nearbyRideRequest"
          ]
        }
      },
      "response": [
        {
          "id": "0f74a2bf-098f-49a9-9584-e2f836f96d31",
          "name": "Untitled Example",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "token",
                "value": "<API Key>",
                "description": "Added as a part of security scheme: apikey"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v2/driver/nearbyRideRequest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "driver",
                "nearbyRideRequest"
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json;charset=utf-8"
            }
          ],
          "cookie": [],
          "responseTime": null,
          "body": "{\n  \"searchRequests\": [\n    {\n      \"searchRequestId\": \"proident qui sunt et\",\n      \"searchRequestValidTill\": \"2016-07-22T00:00:00Z\",\n      \"distanceToPickup\": -8892007021473223000,\n      \"durationToPickup\": 9193992596821537000,\n      \"baseFare\": 37688420.94047874\n    },\n    {\n      \"searchRequestId\": \"laborum Excepteur in amet commodo\",\n      \"searchRequestValidTill\": \"2016-07-22T00:00:00Z\",\n      \"distanceToPickup\": 5409711012229435000,\n      \"durationToPickup\": 8041103522133586000,\n      \"baseFare\": 26816793.720645607\n    }\n  ]\n}",
          "uid": "38579165-0f74a2bf-098f-49a9-9584-e2f836f96d31"
        },
        {
          "id": "fd41f284-41af-4607-9343-a7924383cd94",
          "name": "Invalid `token`",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "token",
                "value": "<API Key>",
                "description": "Added as a part of security scheme: apikey"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v2/driver/nearbyRideRequest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "driver",
                "nearbyRideRequest"
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "text",
          "header": [
            {
              "key": "Content-Type",
              "value": "text/plain"
            }
          ],
          "cookie": [],
          "responseTime": null,
          "body": "",
          "uid": "38579165-fd41f284-41af-4607-9343-a7924383cd94"
        },
        {
          "id": "33550184-a175-4267-bad9-b4d14e1b7fe9",
          "name": "Unauthorized",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "token",
                "value": "<API Key>",
                "description": "Added as a part of security scheme: apikey"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v2/driver/nearbyRideRequest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "driver",
                "nearbyRideRequest"
              ]
            }
          },
          "status": "Unauthorized",
          "code": 401,
          "_postman_previewlanguage": "text",
          "header": [
            {
              "key": "Content-Type",
              "value": "text/plain"
            }
          ],
          "cookie": [],
          "responseTime": null,
          "body": "",
          "uid": "38579165-33550184-a175-4267-bad9-b4d14e1b7fe9"
        }
      ],
      "uid": "38579165-d2bd8885-3da3-41ae-8a28-6f87e79deecc"
    },
    {
      "name": "/v2/driver/searchRequest/quote/offer",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 2000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "dd3a1807-b3be-442e-bbe7-7ea2d2dc8611"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "d3e5279d-9930-44e5-be68-3c3163247e05"
          }
        }
      ],
      "id": "028d23c0-9f6f-4718-b612-ad3bb345b752",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{driver_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=utf-8"
          },
          {
            "key": "Accept",
            "value": "application/json;charset=utf-8"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"searchRequestId\": \"{{searchReq_Id}}\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseURL_namma_P}}/driver/searchRequest/quote/offer",
          "host": [
            "{{baseURL_namma_P}}"
          ],
          "path": [
            "driver",
            "searchRequest",
            "quote",
            "offer"
          ]
        }
      },
      "response": [
        {
          "id": "970537ff-c8f0-4612-9bbb-8c96ff198d60",
          "name": "Untitled Example",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "token",
                "value": "<API Key>",
                "description": "Added as a part of security scheme: apikey"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"searchRequestId\": \"Ut consequat ut\",\n  \"offeredFare\": 22215642.991347462\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/v2/driver/searchRequest/quote/offer",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "driver",
                "searchRequest",
                "quote",
                "offer"
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json;charset=utf-8"
            }
          ],
          "cookie": [],
          "responseTime": null,
          "body": "\"Success\"",
          "uid": "38579165-970537ff-c8f0-4612-9bbb-8c96ff198d60"
        },
        {
          "id": "d0e4380b-3c22-4eb8-8c13-89e2c74dd86e",
          "name": "Invalid `body` or `token`",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "token",
                "value": "<API Key>",
                "description": "Added as a part of security scheme: apikey"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"searchRequestId\": \"Ut consequat ut\",\n  \"offeredFare\": 22215642.991347462\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/v2/driver/searchRequest/quote/offer",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "driver",
                "searchRequest",
                "quote",
                "offer"
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "text",
          "header": [
            {
              "key": "Content-Type",
              "value": "text/plain"
            }
          ],
          "cookie": [],
          "responseTime": null,
          "body": "",
          "uid": "38579165-d0e4380b-3c22-4eb8-8c13-89e2c74dd86e"
        },
        {
          "id": "380418a8-89e1-4677-890e-2091f2831947",
          "name": "Unauthorized",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "token",
                "value": "<API Key>",
                "description": "Added as a part of security scheme: apikey"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"searchRequestId\": \"Ut consequat ut\",\n  \"offeredFare\": 22215642.991347462\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/v2/driver/searchRequest/quote/offer",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "driver",
                "searchRequest",
                "quote",
                "offer"
              ]
            }
          },
          "status": "Unauthorized",
          "code": 401,
          "_postman_previewlanguage": "text",
          "header": [
            {
              "key": "Content-Type",
              "value": "text/plain"
            }
          ],
          "cookie": [],
          "responseTime": null,
          "body": "",
          "uid": "38579165-380418a8-89e1-4677-890e-2091f2831947"
        }
      ],
      "uid": "38579165-028d23c0-9f6f-4718-b612-ad3bb345b752"
    },
    {
      "name": "/estimate/:estimateId/quotes",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 3000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "f921f0ef-ae75-45ab-ad59-c5a3bc146c21"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "const body = JSON.parse(responseBody);",
              "pm.collectionVariables.set(\"customer_quote_id\", body.selectedQuotes[0].id);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "481486b6-c817-412a-a3d9-c78955b04a4d"
          }
        }
      ],
      "id": "e505428f-ba9a-44fd-b792-d3538d02375f",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{customer_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl_app}}/estimate/:estimateId/quotes",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "estimate",
            ":estimateId",
            "quotes"
          ],
          "variable": [
            {
              "id": "7d6422d6-2745-4c9c-b8a9-07924a50b446",
              "key": "estimateId",
              "value": "{{EstiAuto}}"
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-e505428f-ba9a-44fd-b792-d3538d02375f"
    },
    {
      "name": "/v2/rideSearch/quotes/:quoteId/confirm",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const body = JSON.parse(responseBody);",
              "pm.collectionVariables.set(\"customer_bookingId\", body.bookingId);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "94760036-b9b2-4a04-b3ec-1ff13e778f94"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 2000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "115c0224-3dd0-40b0-90aa-f84d3f469ea6"
          }
        }
      ],
      "id": "d384a9b2-09a0-496a-8919-13186c4bb941",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{customer_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "token",
            "value": "{{app-reg-token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{baseUrl_app}}/rideSearch/quotes/:quoteId/confirm",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "rideSearch",
            "quotes",
            ":quoteId",
            "confirm"
          ],
          "variable": [
            {
              "id": "a2260e70-678b-4c4a-b14f-e87850a6da4a",
              "key": "quoteId",
              "value": "{{customer_quote_id}}",
              "description": "(Required) "
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-d384a9b2-09a0-496a-8919-13186c4bb941"
    },
    {
      "name": "/v2/rideBooking/list",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 2000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "92dc36df-f812-46b0-8368-3b791ef15b39"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "const body = JSON.parse(responseBody);",
              "const bookings = body.list.find ((booking) => booking.status=\"TRIP_ASSIGNED\")",
              "pm.collectionVariables.set(\"ride_otp\", bookings.rideList[0].rideOtp);",
              "pm.collectionVariables.set(\"customer_bookingId\", bookings.id);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "90427103-6d1f-4a3c-ab14-ca4932d5cd40"
          }
        }
      ],
      "id": "ec4d1963-3b38-4c79-9bfd-22e92af2226b",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{customer_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl_app}}/rideBooking/list?limit=20&onlyActive=true",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "rideBooking",
            "list"
          ],
          "query": [
            {
              "key": "limit",
              "value": "20"
            },
            {
              "key": "onlyActive",
              "value": "true"
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-ec4d1963-3b38-4c79-9bfd-22e92af2226b"
    },
    {
      "name": "/driver/ride/list",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const body = JSON.parse(responseBody);",
              "const rideList = body.list.find ((ride) => ride.status=\"NEW\")",
              "pm.collectionVariables.set(\"driver_ride_id\", rideList.id);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "c837b432-6763-4055-9db8-8c6ecf31fac5"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 2000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "946adc2e-9f35-4c74-b90d-471be5b2b2d7"
          }
        }
      ],
      "id": "244e9acf-7008-4382-8249-b9837b604414",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{driver_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseURL_namma_P}}/driver/ride/list?limit=10",
          "host": [
            "{{baseURL_namma_P}}"
          ],
          "path": [
            "driver",
            "ride",
            "list"
          ],
          "query": [
            {
              "key": "offset",
              "value": "-87769918",
              "disabled": true
            },
            {
              "key": "onlyActive",
              "value": "true",
              "disabled": true
            },
            {
              "key": "limit",
              "value": "10"
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-244e9acf-7008-4382-8249-b9837b604414"
    },
    {
      "name": "/v2/rideBooking/:bookingId/cancel",
      "id": "00826a7a-e07d-4ee1-988f-4d0a0e454bea",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{customer_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=utf-8"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"additionalInfo\": \"string\",\n  \"reasonCode\": \"jhwsadfvbewjkdhlwd\",\n  \"reasonStage\": \"OnSearch\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl_app}}/rideBooking/:bookingId/cancel",
          "host": [
            "{{baseUrl_app}}"
          ],
          "path": [
            "rideBooking",
            ":bookingId",
            "cancel"
          ],
          "variable": [
            {
              "id": "4a7c3890-a10c-49d2-b42d-1f3bc3a9d3d7",
              "key": "bookingId",
              "value": "{{customer_bookingId}}"
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-00826a7a-e07d-4ee1-988f-4d0a0e454bea"
    },
    {
      "name": "/driver/ride/list",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const body = JSON.parse(responseBody);",
              "const rideList = body.list.find ((ride) => ride.status=\"NEW\")",
              "pm.collectionVariables.set(\"driver_ride_id\", rideList.id);",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "8632797b-b09c-409a-a1e8-aa2974c5cb23"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "setTimeout(function(){}, 2000);"
            ],
            "type": "text/javascript",
            "packages": {},
            "id": "2f10ac03-5b9d-46e9-a880-b453b72b4b44"
          }
        }
      ],
      "id": "a5ba93c5-bd38-4c0e-aabe-736c7f552fda",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "{{driver_token}}",
              "type": "string"
            },
            {
              "key": "key",
              "value": "token",
              "type": "string"
            },
            {
              "key": "in",
              "value": "header",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseURL_namma_P}}/driver/ride/list?limit=10",
          "host": [
            "{{baseURL_namma_P}}"
          ],
          "path": [
            "driver",
            "ride",
            "list"
          ],
          "query": [
            {
              "key": "offset",
              "value": "-87769918",
              "disabled": true
            },
            {
              "key": "onlyActive",
              "value": "true",
              "disabled": true
            },
            {
              "key": "limit",
              "value": "10"
            }
          ]
        }
      },
      "response": [],
      "uid": "38579165-a5ba93c5-bd38-4c0e-aabe-736c7f552fda"
    }
  ],
  "variable": [
    {
      "key": "EstiAuto",
      "value": ""
    },
    {
      "key": "retryCount",
      "value": ""
    },
    {
      "key": "searchReq_Id",
      "value": ""
    },
    {
      "key": "customer_quote_id",
      "value": ""
    },
    {
      "key": "driver-number",
      "value": ""
    },
    {
      "key": "driver_authId",
      "value": ""
    },
    {
      "key": "driver_token",
      "value": ""
    },
    {
      "key": "customer_authId",
      "value": ""
    },
    {
      "key": "customer_token",
      "value": ""
    },
    {
      "key": "customer_searchId",
      "value": ""
    }
  ]
}